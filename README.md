# Talk 2 Sheet

카카오톡에서 내보낸 대화 파일(.txt)을 엑셀(.xlsx), CSV, PDF 형식으로 변환하는 웹 애플리케이션입니다.

## 📋 목차

- [주요 기능](#-주요-기능)
- [기술 스택](#-기술-스택)
- [프로젝트 구조](#-프로젝트-구조)
- [설치 및 실행](#️-설치-및-실행)
- [사용 방법](#-사용-방법)
- [카카오톡 대화 형식](#-카카오톡-대화-형식)
- [문제 해결](#-문제-해결)

## ✨ 주요 기능

### 1. 파일 업로드

- 드래그 앤 드롭으로 간편한 파일 업로드
- .txt 파일 지원 (최대 10MB)
- 파일 포맷 안내 및 사용 가이드 제공

### 2. 미리보기 및 필터링

- 파싱된 대화 내용 실시간 미리보기
- 다양한 필터 옵션:
  - 시스템 메시지 제외
  - 날짜 범위 필터
  - 참여자별 필터
- 필터링 결과 즉시 확인

### 3. 다중 형식 변환

- **엑셀(.xlsx)**: 스프레드시트 형식으로 정리
- **CSV**: 데이터 분석에 최적화된 형식
- **PDF**: 인쇄 및 공유에 적합한 형식
- 클라이언트 사이드에서 직접 변환 (백엔드 불필요)
- 필터링된 메시지만 변환
- 자동 다운로드

## 🚀 기술 스택

### Core

- **Framework**: Next.js 16.1.1
- **Language**: TypeScript 5
- **React**: 19.2.3

### Styling

- **CSS Framework**: Tailwind CSS 4
- **Icons**: RemixIcon 4.8.0

### State Management

- **State**: Zustand 5.0.9 (with persist)

### Libraries

- **Excel**: xlsx 0.18.5
- **PDF**: jspdf 3.0.4, jspdf-autotable 5.0.2
- **Date**: date-fns 4.1.0

## 📁 프로젝트 구조

```
Talk_2_Sheet/
├── app/                          # Next.js App Router
│   ├── page.tsx                  # 랜딩 페이지
│   ├── layout.tsx                # 루트 레이아웃
│   ├── globals.css               # 전역 스타일
│   ├── upload/                   # 파일 업로드 페이지
│   │   └── page.tsx
│   ├── preview/                  # 미리보기 및 필터 페이지
│   │   └── page.tsx
│   ├── result/                   # 변환 완료 안내 페이지
│   │   └── page.tsx
│   └── guide/                    # 사용 가이드 페이지
│       └── page.tsx
├── components/
│   ├── layout/                   # 레이아웃 컴포넌트
│   │   ├── Header.tsx            # 헤더 컴포넌트
│   │   └── Footer.tsx            # 푸터 컴포넌트
│   └── convert/                  # 변환 관련 컴포넌트
│       ├── UploadDropzone.tsx    # 파일 업로드 드롭존
│       ├── PreviewTable.tsx      # 미리보기 테이블
│       └── FiltersPanel.tsx      # 필터 패널
├── lib/
│   ├── convert/                  # 변환 관련 함수
│   │   ├── kakaotalkParser.ts    # 카카오톡 파일 파서
│   │   ├── excel.ts              # 엑셀 변환 함수
│   │   └── pdf.ts                # PDF 변환 함수
│   └── utils/                    # 유틸리티 함수
│       ├── download.ts           # 파일 다운로드 유틸리티
│       └── constants.ts          # 상수 정의
├── store/
│   └── useConvertStore.ts        # 변환 옵션 상태 관리 (Zustand)
├── public/                       # 정적 파일
└── package.json                  # 프로젝트 설정 및 의존성
```

## 🛠️ 설치 및 실행

### 필수 요구사항

- Node.js 18 이상
- npm 또는 yarn

### 설치

```bash
# 저장소 클론 (또는 프로젝트 디렉토리로 이동)
cd Talk_2_Sheet

# 의존성 설치
npm install
```

### 개발 서버 실행

```bash
npm run dev
```

개발 서버는 [http://localhost:3000](http://localhost:3000)에서 실행됩니다.

### 프로덕션 빌드

```bash
# 빌드
npm run build

# 프로덕션 서버 실행
npm start
```

### 린트

```bash
npm run lint
```

## 📖 사용 방법

### 1. 카카오톡 대화 내보내기

1. 카카오톡 앱에서 대화방 선택
2. 설정 → 대화 내보내기
3. .txt 파일로 저장

### 2. 파일 업로드

1. 웹사이트 접속
2. `/upload` 페이지에서 파일 드래그 앤 드롭 또는 클릭하여 업로드
3. .txt 파일만 지원 (최대 10MB)

### 3. 미리보기 및 필터링

1. `/preview` 페이지에서 파싱된 메시지 확인
2. 필터 옵션 설정:
   - 시스템 메시지 제외 여부
   - 날짜 범위 선택
   - 참여자 선택
3. 실시간으로 필터링 결과 확인

### 4. 파일 변환 및 다운로드

1. 원하는 형식 선택 (엑셀/CSV/PDF)
2. "변환하기" 버튼 클릭
3. 자동으로 파일 다운로드

## 📄 카카오톡 대화 형식

지원하는 카카오톡 대화 내보내기 형식:

```
카카오톡 대화 내보내기
--------------- 2024년 1월 1일 월요일 ---------------
2024. 1. 1. 오전 10:00, 사용자1님이 들어왔습니다.
2024. 1. 1. 오전 10:01, 사용자2님이 들어왔습니다.

[2024. 1. 1. 오전 10:05] 사용자1 : 안녕하세요!
[2024. 1. 1. 오전 10:06] 사용자2 : 안녕하세요! 반갑습니다.
[2024. 1. 1. 오전 10:07] 사용자1 : 오늘 날씨가 좋네요.
```

### 지원 형식

- 날짜 구분선: `--------------- YYYY년 M월 D일 요일 ---------------`
- 시스템 메시지: `YYYY. M. D. 오전/오후 H:MM, 메시지`
- 일반 메시지: `[YYYY. M. D. 오전/오후 H:MM] 발신자 : 메시지 내용`

## 🎯 주요 페이지

| 경로       | 설명                                |
| ---------- | ----------------------------------- |
| `/`        | 랜딩 페이지 - 기능 소개 및 시작하기 |
| `/upload`  | 파일 업로드 페이지                  |
| `/preview` | 미리보기 및 필터링 페이지           |
| `/result`  | 변환 완료 안내 페이지               |
| `/guide`   | 사용 가이드 페이지                  |

## 🐛 문제 해결

### 파일 업로드 오류

**문제**: 파일이 업로드되지 않음

**해결 방법**:

- .txt 파일만 지원합니다
- 파일 크기는 10MB 이하여야 합니다
- UTF-8 인코딩을 권장합니다
- 브라우저 콘솔에서 오류 메시지 확인

### 파싱 오류

**문제**: 메시지가 제대로 파싱되지 않음

**해결 방법**:

- 카카오톡에서 정식으로 내보낸 파일인지 확인
- 파일 형식이 지원되는 형식인지 확인
- 파일이 손상되지 않았는지 확인

### 빌드 오류

**문제**: 빌드 실패

**해결 방법**:

```bash
# .next 폴더 삭제 후 재빌드
rm -rf .next
npm run build
```

**의존성 문제**:

```bash
# node_modules 삭제 후 재설치
rm -rf node_modules package-lock.json
npm install
```

### 다운로드 오류

**문제**: 파일이 다운로드되지 않음

**해결 방법**:

- 브라우저의 팝업 차단 설정 확인
- 다운로드 폴더 권한 확인
- 브라우저 콘솔에서 오류 메시지 확인

## 📝 라이선스

이 프로젝트는 비공개 프로젝트입니다.

## 👥 기여

프로젝트 개선을 위한 제안이나 버그 리포트는 이슈로 등록해주세요.

---

**Made with ❤️ for organizing KakaoTalk conversations**
